<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Wellness Monitor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-shadow { box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .mood-emoji { font-size: 2rem; cursor: pointer; transition: all 0.3s ease; }
        .mood-emoji:hover { transform: scale(1.2); }
        .mood-emoji.selected { transform: scale(1.3); filter: drop-shadow(0 0 10px rgba(102, 126, 234, 0.5)); }
        .recommendation-card { transition: all 0.3s ease; }
        .recommendation-card:hover { transform: translateY(-5px); }
        .pulse { animation: pulse 2s infinite; }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="gradient-bg text-white py-6 px-4">
        <div class="max-w-6xl mx-auto">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                        <span class="text-xl">🧠</span>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold">Student Wellness Monitor</h1>
                        <p class="text-blue-100 text-sm">Track your mental health journey</p>
                    </div>
                </div>
                <div class="text-right">
                    <p class="text-sm text-blue-100">Welcome back, Alex</p>
                    <p class="text-xs text-blue-200" id="currentDate"></p>
                </div>
            </div>
        </div>
    </header>

    <div class="max-w-6xl mx-auto px-4 py-8">
        <!-- Daily Check-in Section -->
        <div class="bg-white rounded-xl card-shadow p-6 mb-8">
            <h2 class="text-2xl font-semibold text-gray-800 mb-6 flex items-center">
                <span class="mr-3">📝</span>Daily Mood Check-in
            </h2>
            
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="text-lg font-medium text-gray-700 mb-4">How are you feeling today?</h3>
                    <div class="flex justify-between mb-6" id="moodSelector">
                        <div class="text-center">
                            <div class="mood-emoji" data-mood="terrible" data-value="1">😢</div>
                            <p class="text-xs text-gray-600 mt-1">Terrible</p>
                        </div>
                        <div class="text-center">
                            <div class="mood-emoji" data-mood="bad" data-value="2">😟</div>
                            <p class="text-xs text-gray-600 mt-1">Bad</p>
                        </div>
                        <div class="text-center">
                            <div class="mood-emoji" data-mood="okay" data-value="3">😐</div>
                            <p class="text-xs text-gray-600 mt-1">Okay</p>
                        </div>
                        <div class="text-center">
                            <div class="mood-emoji" data-mood="good" data-value="4">😊</div>
                            <p class="text-xs text-gray-600 mt-1">Good</p>
                        </div>
                        <div class="text-center">
                            <div class="mood-emoji" data-mood="excellent" data-value="5">😄</div>
                            <p class="text-xs text-gray-600 mt-1">Excellent</p>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">What's on your mind?</label>
                        <textarea id="moodNote" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="3" placeholder="Share your thoughts, feelings, or what happened today..."></textarea>
                    </div>
                    
                    <button id="submitMood" class="w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium">
                        Submit Check-in
                    </button>
                </div>
                
                <div class="bg-gray-50 rounded-lg p-6">
                    <h3 class="text-lg font-medium text-gray-700 mb-4">Quick Stats</h3>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Current Streak</span>
                            <span class="font-semibold text-green-600" id="currentStreak">7 days</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">This Week Average</span>
                            <span class="font-semibold text-blue-600" id="weekAverage">4.2/5</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-600">Total Check-ins</span>
                            <span class="font-semibold text-purple-600" id="totalCheckins">42</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mood Trends Visualization -->
        <div class="bg-white rounded-xl card-shadow p-6 mb-8">
            <h2 class="text-2xl font-semibold text-gray-800 mb-6 flex items-center">
                <span class="mr-3">📊</span>Mood Trends
            </h2>
            <div class="mb-4">
                <div class="flex space-x-2">
                    <button class="trend-period px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium" data-period="7">7 Days</button>
                    <button class="trend-period px-4 py-2 bg-gray-200 text-gray-700 rounded-lg text-sm font-medium" data-period="30">30 Days</button>
                    <button class="trend-period px-4 py-2 bg-gray-200 text-gray-700 rounded-lg text-sm font-medium" data-period="90">90 Days</button>
                </div>
            </div>
            <div class="h-80">
                <canvas id="moodChart"></canvas>
            </div>
        </div>

        <!-- Personalized Recommendations -->
        <div class="bg-white rounded-xl card-shadow p-6 mb-8">
            <h2 class="text-2xl font-semibold text-gray-800 mb-6 flex items-center">
                <span class="mr-3">💡</span>Personalized Recommendations
            </h2>
            <div class="grid md:grid-cols-3 gap-6" id="recommendationsGrid">
                <!-- Recommendations will be populated by JavaScript -->
            </div>
        </div>

        <!-- Wellness Resources -->
        <div class="bg-white rounded-xl card-shadow p-6">
            <h2 class="text-2xl font-semibold text-gray-800 mb-6 flex items-center">
                <span class="mr-3">🌟</span>Wellness Resources
            </h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="bg-gradient-to-br from-green-400 to-green-600 text-white p-4 rounded-lg text-center cursor-pointer hover:shadow-lg transition-all">
                    <div class="text-2xl mb-2">🧘</div>
                    <h3 class="font-semibold">Meditation</h3>
                    <p class="text-sm opacity-90">5-min guided sessions</p>
                </div>
                <div class="bg-gradient-to-br from-blue-400 to-blue-600 text-white p-4 rounded-lg text-center cursor-pointer hover:shadow-lg transition-all">
                    <div class="text-2xl mb-2">📚</div>
                    <h3 class="font-semibold">Study Tips</h3>
                    <p class="text-sm opacity-90">Effective learning strategies</p>
                </div>
                <div class="bg-gradient-to-br from-purple-400 to-purple-600 text-white p-4 rounded-lg text-center cursor-pointer hover:shadow-lg transition-all">
                    <div class="text-2xl mb-2">💪</div>
                    <h3 class="font-semibold">Exercise</h3>
                    <p class="text-sm opacity-90">Quick workout routines</p>
                </div>
                <div class="bg-gradient-to-br from-pink-400 to-pink-600 text-white p-4 rounded-lg text-center cursor-pointer hover:shadow-lg transition-all">
                    <div class="text-2xl mb-2">🤝</div>
                    <h3 class="font-semibold">Support</h3>
                    <p class="text-sm opacity-90">Connect with counselors</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize the app
        let selectedMood = null;
        let moodData = JSON.parse(localStorage.getItem('moodData')) || [];
        let currentChart = null;

        // Set current date
        document.getElementById('currentDate').textContent = new Date().toLocaleDateString('en-US', {
            weekday: 'long',
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        });

        // Mood selection functionality
        document.querySelectorAll('.mood-emoji').forEach(emoji => {
            emoji.addEventListener('click', function() {
                document.querySelectorAll('.mood-emoji').forEach(e => e.classList.remove('selected'));
                this.classList.add('selected');
                selectedMood = {
                    mood: this.dataset.mood,
                    value: parseInt(this.dataset.value)
                };
            });
        });

        // Submit mood check-in
        document.getElementById('submitMood').addEventListener('click', function() {
            if (!selectedMood) {
                alert('Please select your mood first!');
                return;
            }

            const note = document.getElementById('moodNote').value;
            const today = new Date().toISOString().split('T')[0];
            
            // Sentiment analysis simulation
            const sentiment = analyzeSentiment(note);
            
            const moodEntry = {
                date: today,
                mood: selectedMood.mood,
                value: selectedMood.value,
                note: note,
                sentiment: sentiment,
                timestamp: new Date().toISOString()
            };

            // Remove existing entry for today if it exists
            moodData = moodData.filter(entry => entry.date !== today);
            moodData.push(moodEntry);
            
            // Keep only last 90 days
            const ninetyDaysAgo = new Date();
            ninetyDaysAgo.setDate(ninetyDaysAgo.getDate() - 90);
            moodData = moodData.filter(entry => new Date(entry.date) >= ninetyDaysAgo);
            
            localStorage.setItem('moodData', JSON.stringify(moodData));
            
            // Reset form
            document.querySelectorAll('.mood-emoji').forEach(e => e.classList.remove('selected'));
            document.getElementById('moodNote').value = '';
            selectedMood = null;
            
            // Update displays
            updateStats();
            updateChart();
            updateRecommendations();
            
            // Show success message
            this.textContent = 'Check-in Submitted! ✓';
            this.classList.add('bg-green-600');
            setTimeout(() => {
                this.textContent = 'Submit Check-in';
                this.classList.remove('bg-green-600');
            }, 2000);
        });

        // Simple sentiment analysis
        function analyzeSentiment(text) {
            const positiveWords = ['happy', 'good', 'great', 'excellent', 'amazing', 'wonderful', 'fantastic', 'love', 'excited', 'confident', 'proud', 'grateful', 'optimistic'];
            const negativeWords = ['sad', 'bad', 'terrible', 'awful', 'hate', 'angry', 'frustrated', 'worried', 'anxious', 'depressed', 'stressed', 'overwhelmed'];
            
            const words = text.toLowerCase().split(/\W+/);
            let positiveCount = 0;
            let negativeCount = 0;
            
            words.forEach(word => {
                if (positiveWords.includes(word)) positiveCount++;
                if (negativeWords.includes(word)) negativeCount++;
            });
            
            if (positiveCount > negativeCount) return 'positive';
            if (negativeCount > positiveCount) return 'negative';
            return 'neutral';
        }

        // Update statistics
        function updateStats() {
            const streak = calculateStreak();
            const weekAverage = calculateWeekAverage();
            const totalCheckins = moodData.length;
            
            document.getElementById('currentStreak').textContent = `${streak} days`;
            document.getElementById('weekAverage').textContent = `${weekAverage}/5`;
            document.getElementById('totalCheckins').textContent = totalCheckins;
        }

        function calculateStreak() {
            if (moodData.length === 0) return 0;
            
            const sortedData = moodData.sort((a, b) => new Date(b.date) - new Date(a.date));
            let streak = 0;
            const today = new Date();
            
            for (let i = 0; i < sortedData.length; i++) {
                const entryDate = new Date(sortedData[i].date);
                const daysDiff = Math.floor((today - entryDate) / (1000 * 60 * 60 * 24));
                
                if (daysDiff === i) {
                    streak++;
                } else {
                    break;
                }
            }
            
            return streak;
        }

        function calculateWeekAverage() {
            const weekAgo = new Date();
            weekAgo.setDate(weekAgo.getDate() - 7);
            
            const weekData = moodData.filter(entry => new Date(entry.date) >= weekAgo);
            if (weekData.length === 0) return '0.0';
            
            const average = weekData.reduce((sum, entry) => sum + entry.value, 0) / weekData.length;
            return average.toFixed(1);
        }

        // Chart functionality
        function updateChart() {
            const ctx = document.getElementById('moodChart').getContext('2d');
            const period = document.querySelector('.trend-period.bg-blue-600').dataset.period;
            const days = parseInt(period);
            
            const startDate = new Date();
            startDate.setDate(startDate.getDate() - days);
            
            const chartData = [];
            const labels = [];
            
            for (let i = days - 1; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                const dateStr = date.toISOString().split('T')[0];
                
                const entry = moodData.find(d => d.date === dateStr);
                chartData.push(entry ? entry.value : null);
                labels.push(date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }));
            }
            
            if (currentChart) {
                currentChart.destroy();
            }
            
            currentChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Mood Score',
                        data: chartData,
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: '#667eea',
                        pointBorderColor: '#ffffff',
                        pointBorderWidth: 2,
                        pointRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 5,
                            ticks: {
                                stepSize: 1,
                                callback: function(value) {
                                    const moods = ['', '😢', '😟', '😐', '😊', '😄'];
                                    return moods[value] || '';
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }

        // Period selection for chart
        document.querySelectorAll('.trend-period').forEach(button => {
            button.addEventListener('click', function() {
                document.querySelectorAll('.trend-period').forEach(b => {
                    b.classList.remove('bg-blue-600', 'text-white');
                    b.classList.add('bg-gray-200', 'text-gray-700');
                });
                this.classList.remove('bg-gray-200', 'text-gray-700');
                this.classList.add('bg-blue-600', 'text-white');
                updateChart();
            });
        });

        // Update recommendations based on recent mood data
        function updateRecommendations() {
            const recentData = moodData.slice(-7); // Last 7 entries
            const averageMood = recentData.length > 0 ? 
                recentData.reduce((sum, entry) => sum + entry.value, 0) / recentData.length : 3;
            
            const recentSentiments = recentData.map(entry => entry.sentiment);
            const negativeCount = recentSentiments.filter(s => s === 'negative').length;
            
            let recommendations = [];
            
            if (averageMood < 3) {
                recommendations = [
                    {
                        icon: '🧘',
                        title: 'Try Meditation',
                        description: 'Take 10 minutes for mindfulness to reduce stress',
                        color: 'from-green-400 to-green-600',
                        action: 'Start 10-min session'
                    },
                    {
                        icon: '🚶',
                        title: 'Take a Walk',
                        description: 'Fresh air and movement can boost your mood',
                        color: 'from-blue-400 to-blue-600',
                        action: 'Find walking routes'
                    },
                    {
                        icon: '📞',
                        title: 'Connect with Friends',
                        description: 'Social support is important for mental health',
                        color: 'from-purple-400 to-purple-600',
                        action: 'Schedule a call'
                    }
                ];
            } else if (averageMood > 4) {
                recommendations = [
                    {
                        icon: '🎯',
                        title: 'Set New Goals',
                        description: 'Channel your positive energy into achievements',
                        color: 'from-yellow-400 to-yellow-600',
                        action: 'Create goal list'
                    },
                    {
                        icon: '📝',
                        title: 'Journal Success',
                        description: 'Document what\'s working well for you',
                        color: 'from-green-400 to-green-600',
                        action: 'Start journaling'
                    },
                    {
                        icon: '🤝',
                        title: 'Help Others',
                        description: 'Share your positive energy with peers',
                        color: 'from-pink-400 to-pink-600',
                        action: 'Find volunteer opportunities'
                    }
                ];
            } else {
                recommendations = [
                    {
                        icon: '📚',
                        title: 'Study Break Tips',
                        description: 'Optimize your study sessions with proven techniques',
                        color: 'from-blue-400 to-blue-600',
                        action: 'Learn techniques'
                    },
                    {
                        icon: '💪',
                        title: 'Quick Exercise',
                        description: '15-minute workouts to boost energy and focus',
                        color: 'from-red-400 to-red-600',
                        action: 'Start workout'
                    },
                    {
                        icon: '🎵',
                        title: 'Relaxing Music',
                        description: 'Curated playlists for studying and relaxation',
                        color: 'from-purple-400 to-purple-600',
                        action: 'Browse playlists'
                    }
                ];
            }
            
            const grid = document.getElementById('recommendationsGrid');
            grid.innerHTML = recommendations.map(rec => `
                <div class="recommendation-card bg-gradient-to-br ${rec.color} text-white p-6 rounded-lg cursor-pointer">
                    <div class="text-3xl mb-3">${rec.icon}</div>
                    <h3 class="font-semibold text-lg mb-2">${rec.title}</h3>
                    <p class="text-sm opacity-90 mb-4">${rec.description}</p>
                    <button class="bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-opacity-30 transition-all">
                        ${rec.action}
                    </button>
                </div>
            `).join('');
        }

        // Initialize sample data if none exists
        function initializeSampleData() {
            if (moodData.length === 0) {
                const sampleData = [];
                for (let i = 14; i >= 0; i--) {
                    const date = new Date();
                    date.setDate(date.getDate() - i);
                    const dateStr = date.toISOString().split('T')[0];
                    
                    // Generate realistic mood patterns
                    let moodValue = 3 + Math.random() * 2; // Base mood between 3-5
                    if (date.getDay() === 1) moodValue -= 0.5; // Monday blues
                    if (date.getDay() === 5) moodValue += 0.5; // Friday boost
                    
                    moodValue = Math.max(1, Math.min(5, Math.round(moodValue)));
                    
                    const moods = ['terrible', 'bad', 'okay', 'good', 'excellent'];
                    const notes = [
                        'Had a productive study session today',
                        'Feeling a bit overwhelmed with assignments',
                        'Great day with friends, feeling energized',
                        'Struggled with focus today',
                        'Accomplished my goals for the day',
                        'Feeling stressed about upcoming exams',
                        'Had a good workout, feeling positive'
                    ];
                    
                    sampleData.push({
                        date: dateStr,
                        mood: moods[moodValue - 1],
                        value: moodValue,
                        note: notes[Math.floor(Math.random() * notes.length)],
                        sentiment: moodValue >= 4 ? 'positive' : moodValue <= 2 ? 'negative' : 'neutral',
                        timestamp: date.toISOString()
                    });
                }
                
                moodData = sampleData;
                localStorage.setItem('moodData', JSON.stringify(moodData));
            }
        }

        // Initialize the app
        initializeSampleData();
        updateStats();
        updateChart();
        updateRecommendations();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97e6564072c99f4d',t:'MTc1Nzc1Mjc5Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
